<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- displays site properly based on user's device -->

    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon-32x32.png"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&display=swap"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />

    <title>Frontend Mentor | IP Address Tracker</title>

    <!-- Feel free to remove these styles or customise in your own stylesheet 👍 -->
    <style>
      .attribution {
        font-size: 11px;
        text-align: center;
      }
      .attribution a {
        color: hsl(228, 45%, 44%);
      }
    </style>
    <script type="text/javascript">
      var fetchedData;
      fetch(
        "https://geo.ipify.org/api/v2/country?apiKey=at_myezyTGESVPVoXOxImxcI35pLcA6C&ipAddress=122.161.52.151"
      )
        .then((response) => response.json())
        .then((data) => {
          console.log("data", data);
          document.getElementById("ipaddr").innerHTML = data.ip;
          document.getElementById("location").innerHTML =
            data.location.region + ", " + data.location.country;
          document.getElementById("timezone").innerHTML =
            "UTC " + data.location.timezone;
          document.getElementById("isp").innerHTML = data.isp;
        });
    </script>
  </head>
  <body
    class="d-flex flex-fill"
    style="
      background-image: url(./images/pattern-bg-desktop.png);
      background-repeat: no-repeat;
      height: 0.25vh;
      background-color: aliceblue;
    "
  >
    <div class="d-flex flex-fill mx-3 flex-column">
      <h2 class="text-white py-3">IP Address Tracker</h2>
      <div class="search__container mb-5">
        <input
          type="search"
          placeholder="Search for any IP address or domain"
          class="text-align-center"
          required
          size="35"
        />
        <span class="validity"></span>
      </div>
      <!-- add offset value dynamically using the API -->

      <div class="container bg-white rounded mt-0 mt-sm-5 py-4">
        <div class="d-flex flex-column flex-sm-row justify-content-between">
          <div class="col-12 col-sm-3 py-3 py-sm-0">
            <div class="heading">IP Address</div>
            <div id="ipaddr" class="big-text"></div>
          </div>
          <div class="vl"></div>
          <div class="col-12 col-sm-3 py-3 py-sm-0">
            <div>
              <div class="heading">Location</div>
              <div id="location" class="big-text"></div>
            </div>
          </div>
          <div class="vl"></div>
          <div class="col-12 col-sm-3 py-3 py-sm-0">
            <div>
              <div class="heading">Timezone</div>
              <div id="timezone" class="big-text"></div>
            </div>
          </div>
          <div class="vl"></div>
          <div class="col-12 col-sm-3 py-3 py-sm-0">
            <div>
              <div class="heading">ISP</div>
              <div id="isp" class="big-text"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
